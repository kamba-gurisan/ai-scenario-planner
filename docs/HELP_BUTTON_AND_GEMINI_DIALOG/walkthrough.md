# 修正内容の確認 - ヘルプボタンとGeminiダイアログの追加

UI上部に「HELP」ボタンを追加し、アプリの機能について質問できるAIアシスタント（Gemini）を実装しました。

## 変更内容

### 1. APIルートの拡張
- `app/api/generate/route.ts` に `help` モードを追加しました。
- アプリの仕様（シナリオ生成、画像・音声生成、PPTX出力など）を理解したシステムプロンプトを設定し、関連のない質問には回答を控えるように制御しました。

### 2. ヘルプUIの実装
- **HELPボタン**: ヘッダーの右側に、目立ちすぎず、かつアクセスしやすいデザインのボタンを追加しました。
- **AI ASSISTANTダイアログ**: 清潔感のある、チャット形式のダイアログを実装しました。
    - **初期表示**: 「お手伝いします。」というメッセージでユーザーを迎え入れます。
    - **履歴保持**: ダイアログを開いている間、会話の履歴が表示されます。
    - **自動スクロール**: 新しいメッセージが届くと、自動的に最下部までスクロールします。
    - **日本語入力最適化**: 日本語変換確定時のEnterキーでメッセージが誤送信されないよう調整しました。

## 検証結果

### 動作確認ビデオ
ブラウザでの動作確認の様子を以下のビデオおよび画像で確認いただけます。

````carousel
![HELPボタンの動作テスト](/Users/kanbayashiakira/.gemini/antigravity/brain/5b1f7ff3-345e-4400-8351-ba8fd02cb0f3/test_help_button_1769976831069.webp)
<!-- slide -->
![マークダウン表示の改善後](/Users/kanbayashiakira/.gemini/antigravity/brain/5b1f7ff3-345e-4400-8351-ba8fd02cb0f3/help_dialog_markdown_response_1769977656263.png)
````

### テスト内容
1. `http://localhost:5173` でアプリが起動していることを確認。
2. HELPボタンをクリックし、ダイアログが開くこと、初期メッセージが表示されることを確認。
3. アプリの機能について日本語で質問（「このアプリで何ができますか？」）し、適切な回答が得られることを確認。
4. 送信中（Thinking...）のローディング表示が正しく機能することを確認。
5. 閉じるボタンでダイアログが正常に閉じることを確認。

## 完了したタスク
[task.md](file:///Users/kanbayashiakira/.gemini/antigravity/brain/5b1f7ff3-345e-4400-8351-ba8fd02cb0f3/task.md) にて、すべての項目が完了していることを確認しました。
